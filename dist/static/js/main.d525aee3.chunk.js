(this["webpackJsonpantv-demo"]=this["webpackJsonpantv-demo"]||[]).push([[0],{166:function(e,n,t){},180:function(e,n,t){},361:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),a=t(24),i=t.n(a),d=(t(166),t(167),t(161)),l=t.n(d),s=(t(89),t(51)),c=t.n(s),b=t(53),p=(t(170),t(108)),u=t.n(p),g=(t(172),t(40)),h=t.n(g),m=(t(177),t(107)),x=t.n(m),f=(t(109),t(105)),v=t.n(f),y=t(1),j=t(2),w=t(3),O=t(4),N=t(157),k=t.n(N),C=t(46),I=(t(180),t(18)),M=function(e){Object(w.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(y.a)(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={graph:null,isModalVisible:!1,currNode:null,editLabel:""},e.GraphContainer=void 0,e.initGraph=function(){C.b.registerNode("algo-node",{inherit:"rect",attrs:{body:{strokeWidth:1,stroke:"#108ee9",fill:"#fff",rx:15,ry:15}},portMarkup:[{tagName:"foreignObject",selector:"fo",attrs:{width:10,height:10,x:-5,y:-5,magnet:"true"},children:[{ns:C.a.ns.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:C.a.ns.xhtml},style:{width:"100%",height:"100%"},children:[{tagName:"div",selector:"content",style:{width:"100%",height:"100%"}}]}]}]},!0),C.b.registerConnector("algo-edge",(function(e,n){var t={x:e.x,y:e.y+4+80},o={x:n.x,y:n.y-4-80};return"M ".concat(e.x," ").concat(e.y,"\n          L ").concat(e.x," ").concat(e.y+4,"\n          C ").concat(t.x," ").concat(t.y," ").concat(o.x," ").concat(o.y," ").concat(n.x," ").concat(n.y-4,"\n          L ").concat(n.x," ").concat(n.y,"\n          ")}),!0);var n=new C.b({container:e.GraphContainer,grid:{visible:!0},onPortRendered:function(e){var n=e.port,t=e.contentSelectors,o=t&&t.content;o&&i.a.render(Object(I.jsx)(v.a,{title:"port",children:Object(I.jsx)("div",{className:"my-port".concat(n.connected?" connected":"")})}),o)},highlighting:{nodeAvailable:{name:"className",args:{className:"available"}},magnetAvailable:{name:"className",args:{className:"available"}},magnetAdsorbed:{name:"className",args:{className:"adsorbed"}}},connecting:{snap:!0,allowBlank:!1,allowLoop:!1,highlight:!0,sourceAnchor:{name:"bottom",args:{dx:C.c.IS_SAFARI?5:0}},targetAnchor:{name:"center",args:{dx:C.c.IS_SAFARI?5:0}},connectionPoint:"anchor",connector:"algo-edge",createEdge:function(){return n.createEdge({attrs:{line:{strokeDasharray:"5 5",stroke:"#808080",strokeWidth:1,targetMarker:{name:"block",args:{size:"6"}}}}})},validateMagnet:function(e){return"in"!==e.magnet.getAttribute("port-group")},validateConnection:function(e){e.sourceView;var n=e.targetView,t=e.sourceMagnet,o=e.targetMagnet;if(!t||"in"===t.getAttribute("port-group"))return!1;if(!o||"in"!==o.getAttribute("port-group"))return!1;var r=o.getAttribute("port"),a=n.cell.getPort(r);return!a||!a.connected}}});e.setState({graph:n},(function(){n.on("edge:connected",(function(e){var n=e.edge,t=e.currentCell,o=e.currentMagnet.getAttribute("port");t.setPortProp(o,"connected",!0),n.attr({line:{strokeDasharray:"",targetMarker:""}})})),n.addNode({node:1,x:380,y:180,width:160,height:30,shape:"algo-node",label:"\u5f52\u4e00\u5316",ports:{items:[{group:"in",id:"in1"},{group:"in",id:"in2"},{group:"out",id:"out1"},{group:"out",id:"out2"}],groups:{in:{position:{name:"top"},zIndex:1},out:{position:{name:"bottom"},zIndex:1}}}});var t=n.addNode({node:2,x:200,y:50,width:160,height:30,shape:"algo-node",label:"SQL",ports:{items:[{group:"in",id:"in1"},{group:"in",id:"in2"},{group:"out",id:"out1"}],groups:{in:{position:{name:"top"},zIndex:1},out:{position:{name:"bottom"},zIndex:1}}}}),o=n.addNode({node:3,x:120,y:260,width:160,height:30,shape:"algo-node",label:"\u5e8f\u5217\u5316",ports:{items:[{group:"in",id:"in1",connected:!0},{group:"in",id:"in2"},{group:"out",id:"out1"}],groups:{in:{position:{name:"top"},zIndex:1},out:{position:{name:"bottom"},zIndex:1}}}});n.addNode({node:4,x:420,y:260,width:160,height:30,shape:"algo-node",label:"\u5e8f\u5217\u53162",ports:{items:[{group:"in",id:"in1"},{group:"in",id:"in2"},{group:"out",id:"out1"}],groups:{in:{position:{name:"top"},zIndex:1},out:{position:{name:"bottom"},zIndex:1}}}}),n.addEdge({source:{cell:t,port:"out1"},target:{cell:o,port:"in1"},attrs:{line:{stroke:"#808080",strokeWidth:1,targetMarker:""}}}),n.on("node:dblclick",(function(n){var t=n.node;e.setState({isModalVisible:!0,currNode:t})})),n.on("edge:dblclick",(function(e){var t=e.edge;n.removeEdge(t)}))}))},e.RefContainer=function(n){e.GraphContainer=n},e.HandleAddNode=function(n){var t=e.state.graph,o=n.form,r=o.label,a={node:5,x:o.x,y:o.y,label:r,shape:"algo-node",width:160,height:30,ports:{items:[{group:"in",id:"in1"},{group:"in",id:"in2"},{group:"out",id:"out1"},{group:"out",id:"out2"}],groups:{in:{position:{name:"top"},zIndex:1},out:{position:{name:"bottom"},zIndex:1}}}};t.addNode(a)},e.deleteNode=function(){var n=e.state,t=n.graph,o=n.currNode;e.setState({isModalVisible:!1},(function(){t.removeNode(o)}))},e.EditLabelFinsh=function(n){var t=e.state,o=t.graph,r=t.currNode,a=o.getNodes();a=a.map((function(e){return e===r&&(e.label=n.currLabel),e})),e.setState({isModalVisible:!1})},e.handleCancel=function(){e.setState({isModalVisible:!1})},e}return Object(j.a)(t,[{key:"componentDidMount",value:function(){this.initGraph()}},{key:"render",value:function(){var e=this.state.isModalVisible,n={labelCol:{span:8},wrapperCol:{span:12}};return Object(I.jsxs)("div",{className:"Flow",children:[Object(I.jsx)("div",{ref:this.RefContainer,className:"container"}),Object(I.jsxs)("div",{className:"edit-box",children:[Object(I.jsxs)(h.a,Object(b.a)(Object(b.a)({},n),{},{name:"nest-messages",onFinish:this.HandleAddNode,validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(I.jsx)(h.a.Item,{name:["form","label"],label:"\u5185\u5bb9",rules:[{required:!0}],children:Object(I.jsx)(x.a,{})}),Object(I.jsx)(h.a.Item,{name:["form","x"],label:"x\u8f74\u5750\u6807",rules:[{type:"number",min:0,max:800}],children:Object(I.jsx)(u.a,{})}),Object(I.jsx)(h.a.Item,{name:["form","y"],label:"y\u8f74\u5750\u6807",rules:[{type:"number",min:0,max:600}],children:Object(I.jsx)(u.a,{})}),Object(I.jsx)(h.a.Item,{wrapperCol:Object(b.a)(Object(b.a)({},n.wrapperCol),{},{offset:8}),children:Object(I.jsx)(c.a,{type:"primary",htmlType:"submit",children:" \u65b0\u589e\u8282\u70b9 "})})]})),Object(I.jsx)(l.a,{title:"Basic Modal",visible:e,footer:null,onCancel:this.handleCancel,children:Object(I.jsxs)(h.a,{onFinish:this.EditLabelFinsh,children:[Object(I.jsx)(h.a.Item,{label:"\u4fee\u6539\u5185\u5bb9",name:"currLabel",rules:[{required:!0}],children:Object(I.jsx)(x.a,{placeholder:"\u8bf7\u8f93\u5165\u8981\u4fee\u6539\u7684\u5185\u5bb9"})}),Object(I.jsxs)(h.a.Item,{wrapperCol:Object(b.a)(Object(b.a)({},n.wrapperCol),{},{offset:8}),children:[Object(I.jsx)(c.a,{type:"primary",htmlType:"submit",children:" \u4fee\u6539 "}),"\xa0\xa0\xa0\xa0\xa0",Object(I.jsx)(c.a,{type:"primary",danger:!0,onClick:this.deleteNode,children:" \u5220\u9664\u8282\u70b9 "})]})]})})]})]})}}]),t}(o.Component);k()('\n.x6-node [magnet="true"] {\n  cursor: crosshair;\n  transition: none;\n}\n\n.x6-node [magnet="true"]:hover {\n  opacity: 1;\n}\n\n.x6-node [magnet="true"][port-group="in"] {\n  cursor: move;\n}\n\n.my-port {\n  width: 100%;\n  height: 100%;\n  border: 1px solid #808080;\n  border-radius: 100%;\n  background: #eee;\n}\n\n.my-port.connected {\n  width: 0;\n  height: 0;\n  margin-top: 5px;\n  margin-left: 1px;\n  border-width: 5px 4px 0;\n  border-style: solid;\n  border-color: #808080 transparent transparent;\n  border-radius: 0;\n  background-color: transparent;\n}\n\n.x6-port-body.available {\n  overflow: visible;\n}\n\n.x6-port-body.available body {\n  overflow: visible;\n}\n\n.x6-port-body.available body > div::before {\n  content: " ";\n  float: left;\n  width: 20px;\n  height: 20px;\n  margin-top: -5px;\n  margin-left: -5px;\n  border-radius: 50%;\n  background-color: rgba(57, 202, 116, 0.6);\n  box-sizing: border-box;\n}\n\n.x6-port-body.available body > div::after {\n  content: " ";\n  float: left;\n  clear: both;\n  width: 10px;\n  height: 10px;\n  margin-top: -15px;\n  border-radius: 50%;\n  background-color: #fff;\n  border: 1px solid #39ca74;\n  position: relative;\n  z-index: 10;\n  box-sizing: border-box;\n}\n\n.x6-port-body.adsorbed {\n  overflow: visible;\n}\n\n.x6-port-body.adsorbed body {\n  overflow: visible;\n}\n\n.x6-port-body.adsorbed body > div::before {\n  content: " ";\n  float: left;\n  width: 28px;\n  height: 28px;\n  margin-top: -9px;\n  margin-left: -9px;\n  border-radius: 50%;\n  background-color: rgba(57, 202, 116, 0.6);\n  box-sizing: border-box;\n}\n\n.x6-port-body.adsorbed body > div::after {\n  content: " ";\n  float: left;\n  clear: both;\n  width: 10px;\n  height: 10px;\n  margin-top: -19px;\n  border-radius: 50%;\n  background-color: #fff;\n  border: 1px solid #39ca74;\n  position: relative;\n  z-index: 10;\n  box-sizing: border-box;\n}\n');var z=M,A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,364)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),o(e),r(e),a(e),i(e)}))};i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(z,{})}),document.getElementById("root")),A()}},[[361,1,2]]]);
//# sourceMappingURL=main.d525aee3.chunk.js.map